# ๐ฆ ุฏููู ุงููุณุฎ ุงูุงุญุชูุงุทู ููุงุนุฏุฉ ุงูุจูุงูุงุช
# Database Backup Guide

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ูุธุงู ูุณุฎ ุงุญุชูุงุทู ูุชูุฏู ููุงุนุฏุฉ ุจูุงูุงุช Supabase ูู ูุธุงู OrgaFlow36. ูุชูุญ ูู ูุฐุง ุงููุธุงู:

โ **ุชุตุฏูุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ** ูู ุฌููุน ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (84 ุฌุฏูู)  
โ **ุงุณุชูุฑุงุฏ ูุณุฎุฉ ุงุญุชูุงุทูุฉ** ูุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช  
โ **ุนุฑุถ ุฅุญุตุงุฆูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช** ูู ุงูููุช ุงููุนูู  
โ **ุชุตุฏูุฑ ุฌุฏุงูู ูุฑุฏูุฉ** ุนูุฏ ุงูุญุงุฌุฉ  

---

## ๐ ุงููููุงุช ุงููุถุงูุฉ

### 1. ุฎุฏูุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู
**ุงูููู:** `src/services/backupService.ts`

ูุญุชูู ุนูู ุงููุธุงุฆู ุงูุชุงููุฉ:

#### `exportDatabaseBackup()`
- ุชุตุฏูุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ ูู ุฌููุน ุงูุฌุฏุงูู
- ูุชู ุญูุธ ุงูููู ุจุตูุบุฉ JSON
- ุงุณู ุงูููู: `orgaflow-backup-YYYY-MM-DD.json`

#### `importDatabaseBackup(file: File)`
- ุงุณุชูุฑุงุฏ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ููู JSON
- ูุณุชุฎุฏู `upsert` ููุฏูุฌ ูุน ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ
- ูุญุงูุธ ุนูู ุงูุจูุงูุงุช ุงูุญุงููุฉ ููุญุฏุซ ุงูููุฑุฑ

#### `exportSingleTable(tableName: string)`
- ุชุตุฏูุฑ ุฌุฏูู ูุงุญุฏ ููุท
- ูููุฏ ูููุณุฎ ุงูุงุญุชูุงุทู ุงูุฌุฒุฆู

#### `getDatabaseStats()`
- ุงูุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุนุฏุฏ ุงูุณุฌูุงุช ูู ูู ุฌุฏูู
- ุฅุฌูุงูู ุงูุฌุฏุงูู ูุงูุณุฌูุงุช

---

## ๐ฅ๏ธ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุตูุญุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู
**ุงูููู:** `pages/BackupPage.tsx`

ุชู ุชุญุฏูุซ ุงูุตูุญุฉ ูุชุดูู:

#### 1. **ูุณู ุงูุฅุญุตุงุฆูุงุช** ๐
- ุฅุฌูุงูู ุนุฏุฏ ุงูุฌุฏุงูู (84 ุฌุฏูู)
- ุฅุฌูุงูู ุนุฏุฏ ุงูุณุฌูุงุช
- ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ
- ุฒุฑ ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช

#### 2. **ุจุทุงูุฉ ุงูุชุตุฏูุฑ** ๐ฅ
- ุชุตุฏูุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ ูู Supabase
- ูุคุดุฑ ุชุญููู ุฃุซูุงุก ุงูุชุตุฏูุฑ
- ุชุณุฌูู ุงูุนูููุฉ ูู ุณุฌู ุงููุดุงุทุงุช

#### 3. **ุจุทุงูุฉ ุงูุงุณุชูุฑุงุฏ** ๐ค
- ุงุณุชูุฑุงุฏ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ููู JSON
- ุชุญุฐูุฑ ูุจู ุงูุงุณุชูุฑุงุฏ
- ูุคุดุฑ ุชุญููู ุฃุซูุงุก ุงูุงุณุชูุฑุงุฏ
- ุชุญุฏูุซ ุชููุงุฆู ููุฅุญุตุงุฆูุงุช ุจุนุฏ ุงูุงุณุชูุฑุงุฏ

#### 4. **ุฅุนุฏุงุฏุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู** โ๏ธ
- ุชูุนูู/ุชุนุทูู ุงููุณุฎ ุงูุชููุงุฆู
- ุงุฎุชูุงุฑ ุงูุชูุฑุงุฑ (ููููุ ุฃุณุจูุนูุ ุดูุฑู)
- ุญูุธ ุงูุฅุนุฏุงุฏุงุช

---

## ๐ ุงูุฌุฏุงูู ุงููุดูููุฉ ูู ุงููุณุฎ ุงูุงุญุชูุงุทู

### ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ (Core Tables)
- `organization_info` - ูุนูููุงุช ุงูููุธูุฉ
- `roles` - ุงูุฃุฏูุงุฑ
- `users` - ุงููุณุชุฎุฏููู
- `departments` - ุงูุฃูุณุงู
- `document_types` - ุฃููุงุน ุงููุณุชูุฏุงุช
- `payment_methods` - ุทุฑู ุงูุฏูุน
- `purchase_methods` - ุทุฑู ุงูุดุฑุงุก

### ุงูููุฑุฏูู ูุงูุฃุตูุงู (Suppliers & Items)
- `supplier_types` - ุฃููุงุน ุงูููุฑุฏูู
- `business_types` - ุฃููุงุน ุงูุฃุนูุงู
- `suppliers` - ุงูููุฑุฏูู
- `supplier_attachments` - ูุฑููุงุช ุงูููุฑุฏูู
- `item_categories` - ูุฆุงุช ุงูุฃุตูุงู
- `items` - ุงูุฃุตูุงู

### ุงููุดุงุฑูุน ูุงููููููู (Projects & Donors)
- `donors` - ุงูุฌูุงุช ุงููุงูุญุฉ
- `projects` - ุงููุดุงุฑูุน
- `project_objectives` - ุฃูุฏุงู ุงููุดุงุฑูุน
- `project_activities` - ุฃูุดุทุฉ ุงููุดุงุฑูุน
- `project_extensions` - ุชูุฏูุฏุงุช ุงููุดุงุฑูุน
- `project_attachments` - ูุฑููุงุช ุงููุดุงุฑูุน
- `project_reports` - ุชูุงุฑูุฑ ุงููุดุงุฑูุน
- `project_grant_payments` - ุฏูุนุงุช ุงูููุญ

### ุฏูุฑุฉ ุงูุดุฑุงุก (Purchase Cycle)
- `purchase_requests` - ุทูุจุงุช ุงูุดุฑุงุก
- `purchase_request_items` - ุฃุตูุงู ุทูุจุงุช ุงูุดุฑุงุก
- `purchase_request_notes` - ููุงุญุธุงุช ุทูุจุงุช ุงูุดุฑุงุก
- `purchase_request_approvals` - ููุงููุงุช ุทูุจุงุช ุงูุดุฑุงุก
- `supplier_quotations` - ุนุฑูุถ ุฃุณุนุงุฑ ุงูููุฑุฏูู
- `quoted_items` - ุงูุฃุตูุงู ุงููุณุนุฑุฉ
- `purchase_orders` - ุฃูุงูุฑ ุงูุดุฑุงุก
- `purchase_order_items` - ุฃุตูุงู ุฃูุงูุฑ ุงูุดุฑุงุก

### ุงูุนููุฏ (Contracts)
- `contracts` - ุงูุนููุฏ
- `contract_amendments` - ุชุนุฏููุงุช ุงูุนููุฏ
- `contract_amendment_justifications` - ูุจุฑุฑุงุช ุชุนุฏูู ุงูุนููุฏ

### ุงูุฃุฑุดูู (Archive)
- `archive_locations` - ููุงูุน ุงูุฃุฑุดูู
- `archive_classifications` - ุชุตูููุงุช ุงูุฃุฑุดูู
- `physical_documents` - ุงููุณุชูุฏุงุช ุงููุนููุฉ
- `transactions` - ุงููุนุงููุงุช
- `transaction_documents` - ูุณุชูุฏุงุช ุงููุนุงููุงุช
- `transaction_movements` - ุญุฑูุงุช ุงููุนุงููุงุช

### ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ููุฌูุณ ุงูุฅุฏุงุฑุฉ (HR & Board)
- `employees` - ุงูููุธููู
- `master_board_members` - ุฃุนุถุงุก ูุฌูุณ ุงูุฅุฏุงุฑุฉ ุงูุฑุฆูุณููู
- `board_sessions` - ุฏูุฑุงุช ูุฌูุณ ุงูุฅุฏุงุฑุฉ
- `board_members` - ุฃุนุถุงุก ุงููุฌูุณ
- `board_meetings` - ุงุฌุชูุงุนุงุช ุงููุฌูุณ
- `board_meeting_attendees` - ุงูุญุถูุฑ
- `board_meeting_agenda` - ุฌุฏูู ุงูุฃุนูุงู
- `board_meeting_decisions` - ุงููุฑุงุฑุงุช
- `board_meeting_attachments` - ุงููุฑููุงุช

**... ูุงููุฒูุฏ (84 ุฌุฏูู ุฅุฌูุงูุงู)**

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชุตุฏูุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ

1. ุงูุชุญ ุงูุชุทุจูู ูุณุฌู ุงูุฏุฎูู
2. ุงุฐูุจ ุฅูู **ุงูุฅุนุฏุงุฏุงุช** โ **ุงููุณุฎ ุงูุงุญุชูุงุทู**
3. ุงุถุบุท ุนูู ุฒุฑ **"ุชุตุฏูุฑ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ"**
4. ุณูุชู ุชุญููู ููู JSON ุชููุงุฆูุงู
5. ุงุญูุธ ุงูููู ูู ููุงู ุขูู

### 2. ุงุณุชูุฑุงุฏ ูุณุฎุฉ ุงุญุชูุงุทูุฉ

1. ุงุฐูุจ ุฅูู **ุงูุฅุนุฏุงุฏุงุช** โ **ุงููุณุฎ ุงูุงุญุชูุงุทู**
2. ุงุถุบุท ุนูู **"ุงุฎุชูุงุฑ ููู"** ูุงุฎุชุฑ ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
3. ุงุถุบุท ุนูู **"ุงุณุชูุฑุงุฏ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ"**
4. ุฃูุฏ ุงูุนูููุฉ ูู ูุงูุฐุฉ ุงูุชุญุฐูุฑ
5. ุงูุชุธุฑ ุญุชู ุชูุชูู ุงูุนูููุฉ

### 3. ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช

- ุงูุฅุญุตุงุฆูุงุช ุชุธูุฑ ุชููุงุฆูุงู ุนูุฏ ูุชุญ ุงูุตูุญุฉ
- ุงุถุบุท ุนูู ุฒุฑ **"๐ ุชุญุฏูุซ"** ูุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### ุงูุฃูุงู
- โ ูุชุทูุจ ุตูุงุญูุงุช ุงููุฑุงุกุฉ ููุชุตุฏูุฑ
- โ ูุชุทูุจ ุตูุงุญูุงุช ุงูุชุญุฏูุซ ููุงุณุชูุฑุงุฏ
- โ๏ธ **ุชุญุฐูุฑ:** ุงูุงุณุชูุฑุงุฏ ุณูุฏูุฌ ุงูุจูุงูุงุช ูุน ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ

### ุงูุฃุฏุงุก
- โฑ๏ธ ูุฏ ูุณุชุบุฑู ุงูุชุตุฏูุฑ ุจุถุน ุซูุงูู ุญุณุจ ุญุฌู ุงูุจูุงูุงุช
- ๐พ ุญุฌู ุงูููู ูุนุชูุฏ ุนูู ุนุฏุฏ ุงูุณุฌูุงุช
- ๐ ูุชู ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช ุชููุงุฆูุงู ุจุนุฏ ุงูุงุณุชูุฑุงุฏ

### ุงูุชูุงูู
- ๐ฑ ูุนูู ุนูู ุฌููุน ุงููุชุตูุญุงุช ุงูุญุฏูุซุฉ
- ๐ป ูุฏุนู ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ
- ๐ ูุชุทูุจ ุงุชุตุงู ุจุงูุฅูุชุฑูุช (Supabase)

---

## ๐๏ธ ูููุทูุฑูู

### ุฅุถุงูุฉ ุฌุฏุงูู ุฌุฏูุฏุฉ ูููุณุฎ ุงูุงุญุชูุงุทู

ุนุฏูู ููู `src/services/backupService.ts`:

```typescript
const TABLES_TO_BACKUP = [
  // ... ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ
  'new_table_name', // ุฃุถู ุงูุฌุฏูู ุงูุฌุฏูุฏ ููุง
];
```

### ุงุณุชุฎุฏุงู ุงูุฎุฏูุฉ ุจุฑูุฌูุงู

```typescript
import { exportDatabaseBackup, importDatabaseBackup, getDatabaseStats } from '../src/services/backupService';

// ุชุตุฏูุฑ
await exportDatabaseBackup();

// ุงุณุชูุฑุงุฏ
const file = // ... ููู ูู input
await importDatabaseBackup(file);

// ุฅุญุตุงุฆูุงุช
const stats = await getDatabaseStats();
console.log(stats);
```

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
2. ุชุญูู ูู ุตูุงุญูุงุช Supabase
3. ุฑุงุฌุน console ููุฃุฎุทุงุก
4. ุชุฃูุฏ ูู ุตุญุฉ ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ:** ูุฑูู OrgaFlow36  
**ุงูุชุงุฑูุฎ:** 2025-01-25  
**ุงูุฅุตุฏุงุฑ:** 1.0

